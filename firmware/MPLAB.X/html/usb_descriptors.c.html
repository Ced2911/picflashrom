<HTML>
<HEAD>
<TITLE>Listing of ../src/usb_descriptors.c</TITLE>
<LINK rel=stylesheet href="udf_styles.css" type="text/css">
</HEAD>
<BODY>
<table class="">
<tr><td><code><i>     1</i> </code></td><td><code>&nbsp /********************************************************************</code></td></tr>
<tr><td><code><i>     2</i> </code></td><td><code>&nbsp &nbsp FileName:&nbsp&nbsp&nbsp&nbsp&nbsp  usb_descriptors.c</code></td></tr>
<tr><td><code><i>     3</i> </code></td><td><code>&nbsp &nbsp Dependencies:&nbsp See&nbsp INCLUDES&nbsp section</code></td></tr>
<tr><td><code><i>     4</i> </code></td><td><code>&nbsp &nbsp Processor:&nbsp&nbsp&nbsp&nbsp &nbsp&nbsp&nbsp&nbsp PIC16,&nbsp PIC18,&nbsp PIC24,&nbsp or&nbsp dsPIC&nbsp USB&nbsp Microcontrollers</code></td></tr>
<tr><td><code><i>     5</i> </code></td><td><code>&nbsp &nbsp Complier:&nbsp&nbsp &nbsp&nbsp&nbsp Microchip&nbsp XC8&nbsp (for&nbsp PIC16/PIC18),&nbsp C18&nbsp (for&nbsp PIC18)</code></td></tr>
<tr><td><code><i>     6</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp or&nbsp XC16&nbsp (for&nbsp PIC24/dsPIC33&nbsp devices)</code></td></tr>
<tr><td><code><i>     7</i> </code></td><td><code>&nbsp &nbsp Company:&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp Microchip&nbsp Technology,&nbsp Inc.</code></td></tr>
<tr><td><code><i>     8</i> </code></td><td><code>&nbsp </code></td></tr>
<tr><td><code><i>     9</i> </code></td><td><code>&nbsp &nbsp Software&nbsp License&nbsp Agreement:</code></td></tr>
<tr><td><code><i>    10</i> </code></td><td><code>&nbsp </code></td></tr>
<tr><td><code><i>    11</i> </code></td><td><code>&nbsp &nbsp The&nbsp software&nbsp supplied&nbsp herewith&nbsp by&nbsp Microchip&nbsp Technology&nbsp Incorporated</code></td></tr>
<tr><td><code><i>    12</i> </code></td><td><code>&nbsp &nbsp (the&nbsp "Company")&nbsp for&nbsp its&nbsp PIC(R)&nbsp Microcontroller&nbsp is&nbsp intended&nbsp and</code></td></tr>
<tr><td><code><i>    13</i> </code></td><td><code>&nbsp &nbsp supplied&nbsp to&nbsp you,&nbsp the&nbsp Company's&nbsp customer,&nbsp for&nbsp use&nbsp solely&nbsp and</code></td></tr>
<tr><td><code><i>    14</i> </code></td><td><code>&nbsp &nbsp exclusively&nbsp on&nbsp Microchip&nbsp PIC&nbsp Microcontroller&nbsp products.&nbsp The</code></td></tr>
<tr><td><code><i>    15</i> </code></td><td><code>&nbsp &nbsp software&nbsp is&nbsp owned&nbsp by&nbsp the&nbsp Company&nbsp and/or&nbsp its&nbsp supplier,&nbsp and&nbsp is</code></td></tr>
<tr><td><code><i>    16</i> </code></td><td><code>&nbsp &nbsp protected&nbsp under&nbsp applicable&nbsp copyright&nbsp laws.&nbsp All&nbsp rights&nbsp are&nbsp reserved.</code></td></tr>
<tr><td><code><i>    17</i> </code></td><td><code>&nbsp &nbsp Any&nbsp use&nbsp in&nbsp violation&nbsp of&nbsp the&nbsp foregoing&nbsp restrictions&nbsp may&nbsp subject&nbsp the</code></td></tr>
<tr><td><code><i>    18</i> </code></td><td><code>&nbsp &nbsp user&nbsp to&nbsp criminal&nbsp sanctions&nbsp under&nbsp applicable&nbsp laws,&nbsp as&nbsp well&nbsp as&nbsp to</code></td></tr>
<tr><td><code><i>    19</i> </code></td><td><code>&nbsp &nbsp civil&nbsp liability&nbsp for&nbsp the&nbsp breach&nbsp of&nbsp the&nbsp terms&nbsp and&nbsp conditions&nbsp of&nbsp this</code></td></tr>
<tr><td><code><i>    20</i> </code></td><td><code>&nbsp &nbsp license.</code></td></tr>
<tr><td><code><i>    21</i> </code></td><td><code>&nbsp </code></td></tr>
<tr><td><code><i>    22</i> </code></td><td><code>&nbsp &nbsp THIS&nbsp SOFTWARE&nbsp IS&nbsp PROVIDED&nbsp IN&nbsp AN&nbsp "AS&nbsp IS"&nbsp CONDITION.&nbsp NO&nbsp WARRANTIES,</code></td></tr>
<tr><td><code><i>    23</i> </code></td><td><code>&nbsp &nbsp WHETHER&nbsp EXPRESS,&nbsp IMPLIED&nbsp OR&nbsp STATUTORY,&nbsp INCLUDING,&nbsp BUT&nbsp NOT&nbsp LIMITED</code></td></tr>
<tr><td><code><i>    24</i> </code></td><td><code>&nbsp &nbsp TO,&nbsp IMPLIED&nbsp WARRANTIES&nbsp OF&nbsp MERCHANTABILITY&nbsp AND&nbsp FITNESS&nbsp FOR&nbsp A</code></td></tr>
<tr><td><code><i>    25</i> </code></td><td><code>&nbsp &nbsp PARTICULAR&nbsp PURPOSE&nbsp APPLY&nbsp TO&nbsp THIS&nbsp SOFTWARE.&nbsp THE&nbsp COMPANY&nbsp SHALL&nbsp NOT,</code></td></tr>
<tr><td><code><i>    26</i> </code></td><td><code>&nbsp &nbsp IN&nbsp ANY&nbsp CIRCUMSTANCES,&nbsp BE&nbsp LIABLE&nbsp FOR&nbsp SPECIAL,&nbsp INCIDENTAL&nbsp OR</code></td></tr>
<tr><td><code><i>    27</i> </code></td><td><code>&nbsp &nbsp CONSEQUENTIAL&nbsp DAMAGES,&nbsp FOR&nbsp ANY&nbsp REASON&nbsp WHATSOEVER.</code></td></tr>
<tr><td><code><i>    28</i> </code></td><td><code>&nbsp </code></td></tr>
<tr><td><code><i>    29</i> </code></td><td><code>&nbsp &nbsp *********************************************************************</code></td></tr>
<tr><td><code><i>    30</i> </code></td><td><code>&nbsp -usb_descriptors.c-</code></td></tr>
<tr><td><code><i>    31</i> </code></td><td><code>&nbsp -------------------------------------------------------------------</code></td></tr>
<tr><td><code><i>    32</i> </code></td><td><code>&nbsp Filling&nbsp in&nbsp the&nbsp descriptor&nbsp values&nbsp in&nbsp the&nbsp usb_descriptors.c&nbsp file:</code></td></tr>
<tr><td><code><i>    33</i> </code></td><td><code>&nbsp -------------------------------------------------------------------</code></td></tr>
<tr><td><code><i>    34</i> </code></td><td><code>&nbsp </code></td></tr>
<tr><td><code><i>    35</i> </code></td><td><code>&nbsp [Device&nbsp Descriptors]</code></td></tr>
<tr><td><code><i>    36</i> </code></td><td><code>&nbsp The&nbsp device&nbsp descriptor&nbsp is&nbsp defined&nbsp as&nbsp a&nbsp USB_DEVICE_DESCRIPTOR&nbsp type.&nbsp&nbsp </code></td></tr>
<tr><td><code><i>    37</i> </code></td><td><code>&nbsp This&nbsp type&nbsp is&nbsp defined&nbsp in&nbsp usb_ch9.h&nbsp&nbsp Each&nbsp entry&nbsp into&nbsp this&nbsp structure</code></td></tr>
<tr><td><code><i>    38</i> </code></td><td><code>&nbsp needs&nbsp to&nbsp be&nbsp the&nbsp correct&nbsp length&nbsp for&nbsp the&nbsp data&nbsp type&nbsp of&nbsp the&nbsp entry.</code></td></tr>
<tr><td><code><i>    39</i> </code></td><td><code>&nbsp </code></td></tr>
<tr><td><code><i>    40</i> </code></td><td><code>&nbsp [Configuration&nbsp Descriptors]</code></td></tr>
<tr><td><code><i>    41</i> </code></td><td><code>&nbsp The&nbsp configuration&nbsp descriptor&nbsp was&nbsp changed&nbsp in&nbsp v2.x&nbsp from&nbsp a&nbsp structure</code></td></tr>
<tr><td><code><i>    42</i> </code></td><td><code>&nbsp to&nbsp a&nbsp uint8_t&nbsp array.&nbsp&nbsp Given&nbsp that&nbsp the&nbsp configuration&nbsp is&nbsp now&nbsp a&nbsp byte&nbsp array</code></td></tr>
<tr><td><code><i>    43</i> </code></td><td><code>&nbsp each&nbsp byte&nbsp of&nbsp multi-byte&nbsp fields&nbsp must&nbsp be&nbsp listed&nbsp individually.&nbsp&nbsp This</code></td></tr>
<tr><td><code><i>    44</i> </code></td><td><code>&nbsp means&nbsp that&nbsp for&nbsp fields&nbsp like&nbsp the&nbsp total&nbsp size&nbsp of&nbsp the&nbsp configuration&nbsp where</code></td></tr>
<tr><td><code><i>    45</i> </code></td><td><code>&nbsp the&nbsp field&nbsp is&nbsp a&nbsp 16-bit&nbsp value&nbsp "64,0,"&nbsp is&nbsp the&nbsp correct&nbsp entry&nbsp for&nbsp a</code></td></tr>
<tr><td><code><i>    46</i> </code></td><td><code>&nbsp configuration&nbsp that&nbsp is&nbsp only&nbsp 64&nbsp bytes&nbsp long&nbsp and&nbsp not&nbsp "64,"&nbsp which&nbsp is&nbsp one</code></td></tr>
<tr><td><code><i>    47</i> </code></td><td><code>&nbsp too&nbsp few&nbsp bytes.</code></td></tr>
<tr><td><code><i>    48</i> </code></td><td><code>&nbsp </code></td></tr>
<tr><td><code><i>    49</i> </code></td><td><code>&nbsp The&nbsp configuration&nbsp attribute&nbsp must&nbsp always&nbsp have&nbsp the&nbsp _DEFAULT</code></td></tr>
<tr><td><code><i>    50</i> </code></td><td><code>&nbsp definition&nbsp at&nbsp the&nbsp minimum.&nbsp Additional&nbsp options&nbsp can&nbsp be&nbsp ORed</code></td></tr>
<tr><td><code><i>    51</i> </code></td><td><code>&nbsp to&nbsp the&nbsp _DEFAULT&nbsp attribute.&nbsp Available&nbsp options&nbsp are&nbsp _SELF&nbsp and&nbsp _RWU.</code></td></tr>
<tr><td><code><i>    52</i> </code></td><td><code>&nbsp These&nbsp definitions&nbsp are&nbsp defined&nbsp in&nbsp the&nbsp usb_device.h&nbsp file.&nbsp The</code></td></tr>
<tr><td><code><i>    53</i> </code></td><td><code>&nbsp _SELF&nbsp tells&nbsp the&nbsp USB&nbsp host&nbsp that&nbsp this&nbsp device&nbsp is&nbsp self-powered.&nbsp The</code></td></tr>
<tr><td><code><i>    54</i> </code></td><td><code>&nbsp _RWU&nbsp tells&nbsp the&nbsp USB&nbsp host&nbsp that&nbsp this&nbsp device&nbsp supports&nbsp Remote&nbsp Wakeup.</code></td></tr>
<tr><td><code><i>    55</i> </code></td><td><code>&nbsp </code></td></tr>
<tr><td><code><i>    56</i> </code></td><td><code>&nbsp [Endpoint&nbsp Descriptors]</code></td></tr>
<tr><td><code><i>    57</i> </code></td><td><code>&nbsp Like&nbsp the&nbsp configuration&nbsp descriptor,&nbsp the&nbsp endpoint&nbsp descriptors&nbsp were&nbsp </code></td></tr>
<tr><td><code><i>    58</i> </code></td><td><code>&nbsp changed&nbsp in&nbsp v2.x&nbsp of&nbsp the&nbsp stack&nbsp from&nbsp a&nbsp structure&nbsp to&nbsp a&nbsp uint8_t&nbsp array.&nbsp&nbsp As</code></td></tr>
<tr><td><code><i>    59</i> </code></td><td><code>&nbsp endpoint&nbsp descriptors&nbsp also&nbsp has&nbsp a&nbsp field&nbsp that&nbsp are&nbsp multi-byte&nbsp entities,</code></td></tr>
<tr><td><code><i>    60</i> </code></td><td><code>&nbsp please&nbsp be&nbsp sure&nbsp to&nbsp specify&nbsp both&nbsp bytes&nbsp of&nbsp the&nbsp field.&nbsp&nbsp For&nbsp example,&nbsp for</code></td></tr>
<tr><td><code><i>    61</i> </code></td><td><code>&nbsp the&nbsp endpoint&nbsp size&nbsp an&nbsp endpoint&nbsp that&nbsp is&nbsp 64&nbsp bytes&nbsp needs&nbsp to&nbsp have&nbsp the&nbsp size</code></td></tr>
<tr><td><code><i>    62</i> </code></td><td><code>&nbsp defined&nbsp as&nbsp "64,0,"&nbsp instead&nbsp of&nbsp "64,"</code></td></tr>
<tr><td><code><i>    63</i> </code></td><td><code>&nbsp </code></td></tr>
<tr><td><code><i>    64</i> </code></td><td><code>&nbsp Take&nbsp the&nbsp following&nbsp example:</code></td></tr>
<tr><td><code><i>    65</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp //&nbsp Endpoint&nbsp Descriptor&nbsp //</code></td></tr>
<tr><td><code><i>    66</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp 0x07,&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp //the&nbsp size&nbsp of&nbsp this&nbsp descriptor&nbsp //</code></td></tr>
<tr><td><code><i>    67</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp USB_DESCRIPTOR_ENDPOINT,&nbsp&nbsp&nbsp&nbsp //Endpoint&nbsp Descriptor</code></td></tr>
<tr><td><code><i>    68</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp _EP02_IN,&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp //EndpointAddress</code></td></tr>
<tr><td><code><i>    69</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp _INT,&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp //Attributes</code></td></tr>
<tr><td><code><i>    70</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp 0x08,0x00,&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp //size&nbsp (note:&nbsp 2&nbsp bytes)</code></td></tr>
<tr><td><code><i>    71</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp 0x02,&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp //Interval</code></td></tr>
<tr><td><code><i>    72</i> </code></td><td><code>&nbsp </code></td></tr>
<tr><td><code><i>    73</i> </code></td><td><code>&nbsp The&nbsp first&nbsp two&nbsp parameters&nbsp are&nbsp self-explanatory.&nbsp They&nbsp specify&nbsp the</code></td></tr>
<tr><td><code><i>    74</i> </code></td><td><code>&nbsp length&nbsp of&nbsp this&nbsp endpoint&nbsp descriptor&nbsp (7)&nbsp and&nbsp the&nbsp descriptor&nbsp type.</code></td></tr>
<tr><td><code><i>    75</i> </code></td><td><code>&nbsp The&nbsp next&nbsp parameter&nbsp identifies&nbsp the&nbsp endpoint,&nbsp the&nbsp definitions&nbsp are</code></td></tr>
<tr><td><code><i>    76</i> </code></td><td><code>&nbsp defined&nbsp in&nbsp usb_device.h&nbsp and&nbsp has&nbsp the&nbsp following&nbsp naming</code></td></tr>
<tr><td><code><i>    77</i> </code></td><td><code>&nbsp convention:</code></td></tr>
<tr><td><code><i>    78</i> </code></td><td><code>&nbsp _EP&lsaquo  ##&rsaquo  _&lsaquo  dir&rsaquo  </code></td></tr>
<tr><td><code><i>    79</i> </code></td><td><code>&nbsp where&nbsp ##&nbsp is&nbsp the&nbsp endpoint&nbsp number&nbsp and&nbsp dir&nbsp is&nbsp the&nbsp direction&nbsp of</code></td></tr>
<tr><td><code><i>    80</i> </code></td><td><code>&nbsp transfer.&nbsp The&nbsp dir&nbsp has&nbsp the&nbsp value&nbsp of&nbsp either&nbsp 'OUT'&nbsp or&nbsp 'IN'.</code></td></tr>
<tr><td><code><i>    81</i> </code></td><td><code>&nbsp The&nbsp next&nbsp parameter&nbsp identifies&nbsp the&nbsp type&nbsp of&nbsp the&nbsp endpoint.&nbsp Available</code></td></tr>
<tr><td><code><i>    82</i> </code></td><td><code>&nbsp options&nbsp are&nbsp _BULK,&nbsp _INT,&nbsp _ISO,&nbsp and&nbsp _CTRL.&nbsp The&nbsp _CTRL&nbsp is&nbsp not</code></td></tr>
<tr><td><code><i>    83</i> </code></td><td><code>&nbsp typically&nbsp used&nbsp because&nbsp the&nbsp default&nbsp control&nbsp transfer&nbsp endpoint&nbsp is</code></td></tr>
<tr><td><code><i>    84</i> </code></td><td><code>&nbsp not&nbsp defined&nbsp in&nbsp the&nbsp USB&nbsp descriptors.&nbsp When&nbsp _ISO&nbsp option&nbsp is&nbsp used,</code></td></tr>
<tr><td><code><i>    85</i> </code></td><td><code>&nbsp addition&nbsp options&nbsp can&nbsp be&nbsp ORed&nbsp to&nbsp _ISO.&nbsp Example:</code></td></tr>
<tr><td><code><i>    86</i> </code></td><td><code>&nbsp _ISO|_AD|_FE</code></td></tr>
<tr><td><code><i>    87</i> </code></td><td><code>&nbsp This&nbsp describes&nbsp the&nbsp endpoint&nbsp as&nbsp an&nbsp isochronous&nbsp pipe&nbsp with&nbsp adaptive</code></td></tr>
<tr><td><code><i>    88</i> </code></td><td><code>&nbsp and&nbsp feedback&nbsp attributes.&nbsp See&nbsp usb_device.h&nbsp and&nbsp the&nbsp USB</code></td></tr>
<tr><td><code><i>    89</i> </code></td><td><code>&nbsp specification&nbsp for&nbsp details.&nbsp The&nbsp next&nbsp parameter&nbsp defines&nbsp the&nbsp size&nbsp of</code></td></tr>
<tr><td><code><i>    90</i> </code></td><td><code>&nbsp the&nbsp endpoint.&nbsp The&nbsp last&nbsp parameter&nbsp in&nbsp the&nbsp polling&nbsp interval.</code></td></tr>
<tr><td><code><i>    91</i> </code></td><td><code>&nbsp </code></td></tr>
<tr><td><code><i>    92</i> </code></td><td><code>&nbsp -------------------------------------------------------------------</code></td></tr>
<tr><td><code><i>    93</i> </code></td><td><code>&nbsp Adding&nbsp a&nbsp USB&nbsp String</code></td></tr>
<tr><td><code><i>    94</i> </code></td><td><code>&nbsp -------------------------------------------------------------------</code></td></tr>
<tr><td><code><i>    95</i> </code></td><td><code>&nbsp A&nbsp string&nbsp descriptor&nbsp array&nbsp should&nbsp have&nbsp the&nbsp following&nbsp format:</code></td></tr>
<tr><td><code><i>    96</i> </code></td><td><code>&nbsp </code></td></tr>
<tr><td><code><i>    97</i> </code></td><td><code>&nbsp rom&nbsp struct{byte&nbsp bLength;byte&nbsp bDscType;word&nbsp string[size];}sdxxx={</code></td></tr>
<tr><td><code><i>    98</i> </code></td><td><code>&nbsp sizeof(sdxxx),DSC_STR,&lsaquo  text&rsaquo  };</code></td></tr>
<tr><td><code><i>    99</i> </code></td><td><code>&nbsp </code></td></tr>
<tr><td><code><i>   100</i> </code></td><td><code>&nbsp The&nbsp above&nbsp structure&nbsp provides&nbsp a&nbsp means&nbsp for&nbsp the&nbsp C&nbsp compiler&nbsp to</code></td></tr>
<tr><td><code><i>   101</i> </code></td><td><code>&nbsp calculate&nbsp the&nbsp length&nbsp of&nbsp string&nbsp descriptor&nbsp sdxxx,&nbsp where&nbsp xxx&nbsp is&nbsp the</code></td></tr>
<tr><td><code><i>   102</i> </code></td><td><code>&nbsp index&nbsp number.&nbsp The&nbsp first&nbsp two&nbsp bytes&nbsp of&nbsp the&nbsp descriptor&nbsp are&nbsp descriptor</code></td></tr>
<tr><td><code><i>   103</i> </code></td><td><code>&nbsp length&nbsp and&nbsp type.&nbsp The&nbsp rest&nbsp&lsaquo  text&rsaquo &nbsp are&nbsp string&nbsp texts&nbsp which&nbsp must&nbsp be</code></td></tr>
<tr><td><code><i>   104</i> </code></td><td><code>&nbsp in&nbsp the&nbsp unicode&nbsp format.&nbsp The&nbsp unicode&nbsp format&nbsp is&nbsp achieved&nbsp by&nbsp declaring</code></td></tr>
<tr><td><code><i>   105</i> </code></td><td><code>&nbsp each&nbsp character&nbsp as&nbsp a&nbsp word&nbsp type.&nbsp The&nbsp whole&nbsp text&nbsp string&nbsp is&nbsp declared</code></td></tr>
<tr><td><code><i>   106</i> </code></td><td><code>&nbsp as&nbsp a&nbsp word&nbsp array&nbsp with&nbsp the&nbsp number&nbsp of&nbsp characters&nbsp equals&nbsp to&nbsp&lsaquo  size&rsaquo  .</code></td></tr>
<tr><td><code><i>   107</i> </code></td><td><code>&nbsp &lsaquo  size&rsaquo &nbsp has&nbsp to&nbsp be&nbsp manually&nbsp counted&nbsp and&nbsp entered&nbsp into&nbsp the&nbsp array</code></td></tr>
<tr><td><code><i>   108</i> </code></td><td><code>&nbsp declaration.&nbsp Let's&nbsp study&nbsp this&nbsp through&nbsp an&nbsp example:</code></td></tr>
<tr><td><code><i>   109</i> </code></td><td><code>&nbsp if&nbsp the&nbsp string&nbsp is&nbsp "USB"&nbsp ,&nbsp then&nbsp the&nbsp string&nbsp descriptor&nbsp should&nbsp be:</code></td></tr>
<tr><td><code><i>   110</i> </code></td><td><code>&nbsp (Using&nbsp index&nbsp 02)</code></td></tr>
<tr><td><code><i>   111</i> </code></td><td><code>&nbsp rom&nbsp struct{byte&nbsp bLength;byte&nbsp bDscType;word&nbsp string[3];}sd002={</code></td></tr>
<tr><td><code><i>   112</i> </code></td><td><code>&nbsp sizeof(sd002),DSC_STR,'U','S','B'};</code></td></tr>
<tr><td><code><i>   113</i> </code></td><td><code>&nbsp </code></td></tr>
<tr><td><code><i>   114</i> </code></td><td><code>&nbsp A&nbsp USB&nbsp project&nbsp may&nbsp have&nbsp multiple&nbsp strings&nbsp and&nbsp the&nbsp firmware&nbsp supports</code></td></tr>
<tr><td><code><i>   115</i> </code></td><td><code>&nbsp the&nbsp management&nbsp of&nbsp multiple&nbsp strings&nbsp through&nbsp a&nbsp look-up&nbsp table.</code></td></tr>
<tr><td><code><i>   116</i> </code></td><td><code>&nbsp The&nbsp look-up&nbsp table&nbsp is&nbsp defined&nbsp as:</code></td></tr>
<tr><td><code><i>   117</i> </code></td><td><code>&nbsp rom&nbsp const&nbsp unsigned&nbsp char&nbsp *rom&nbsp USB_SD_Ptr[]={&sd000,&sd001,&sd002};</code></td></tr>
<tr><td><code><i>   118</i> </code></td><td><code>&nbsp </code></td></tr>
<tr><td><code><i>   119</i> </code></td><td><code>&nbsp The&nbsp above&nbsp declaration&nbsp has&nbsp 3&nbsp strings,&nbsp sd000,&nbsp sd001,&nbsp and&nbsp sd002.</code></td></tr>
<tr><td><code><i>   120</i> </code></td><td><code>&nbsp Strings&nbsp can&nbsp be&nbsp removed&nbsp or&nbsp added.&nbsp sd000&nbsp is&nbsp a&nbsp specialized&nbsp string</code></td></tr>
<tr><td><code><i>   121</i> </code></td><td><code>&nbsp descriptor.&nbsp It&nbsp defines&nbsp the&nbsp language&nbsp code,&nbsp usually&nbsp this&nbsp is</code></td></tr>
<tr><td><code><i>   122</i> </code></td><td><code>&nbsp US&nbsp English&nbsp (0x0409).&nbsp The&nbsp index&nbsp of&nbsp the&nbsp string&nbsp must&nbsp match&nbsp the&nbsp index</code></td></tr>
<tr><td><code><i>   123</i> </code></td><td><code>&nbsp position&nbsp of&nbsp the&nbsp USB_SD_Ptr&nbsp array,&nbsp &sd000&nbsp must&nbsp be&nbsp in&nbsp position</code></td></tr>
<tr><td><code><i>   124</i> </code></td><td><code>&nbsp USB_SD_Ptr[0],&nbsp &sd001&nbsp must&nbsp be&nbsp in&nbsp position&nbsp USB_SD_Ptr[1]&nbsp and&nbsp so&nbsp on.</code></td></tr>
<tr><td><code><i>   125</i> </code></td><td><code>&nbsp The&nbsp look-up&nbsp table&nbsp USB_SD_Ptr&nbsp is&nbsp used&nbsp by&nbsp the&nbsp get&nbsp string&nbsp handler</code></td></tr>
<tr><td><code><i>   126</i> </code></td><td><code>&nbsp function.</code></td></tr>
<tr><td><code><i>   127</i> </code></td><td><code>&nbsp </code></td></tr>
<tr><td><code><i>   128</i> </code></td><td><code>&nbsp -------------------------------------------------------------------</code></td></tr>
<tr><td><code><i>   129</i> </code></td><td><code>&nbsp </code></td></tr>
<tr><td><code><i>   130</i> </code></td><td><code>&nbsp The&nbsp look-up&nbsp table&nbsp scheme&nbsp also&nbsp applies&nbsp to&nbsp the&nbsp configuration</code></td></tr>
<tr><td><code><i>   131</i> </code></td><td><code>&nbsp descriptor.&nbsp A&nbsp USB&nbsp device&nbsp may&nbsp have&nbsp multiple&nbsp configuration</code></td></tr>
<tr><td><code><i>   132</i> </code></td><td><code>&nbsp descriptors,&nbsp i.e.&nbsp CFG01,&nbsp CFG02,&nbsp etc.&nbsp To&nbsp add&nbsp a&nbsp configuration</code></td></tr>
<tr><td><code><i>   133</i> </code></td><td><code>&nbsp descriptor,&nbsp user&nbsp must&nbsp implement&nbsp a&nbsp structure&nbsp similar&nbsp to&nbsp CFG01.</code></td></tr>
<tr><td><code><i>   134</i> </code></td><td><code>&nbsp The&nbsp next&nbsp step&nbsp is&nbsp to&nbsp add&nbsp the&nbsp configuration&nbsp descriptor&nbsp name,&nbsp i.e.</code></td></tr>
<tr><td><code><i>   135</i> </code></td><td><code>&nbsp cfg01,&nbsp cfg02,..,&nbsp to&nbsp the&nbsp look-up&nbsp table&nbsp USB_CD_Ptr.&nbsp USB_CD_Ptr[0]</code></td></tr>
<tr><td><code><i>   136</i> </code></td><td><code>&nbsp is&nbsp a&nbsp dummy&nbsp place&nbsp holder&nbsp since&nbsp configuration&nbsp 0&nbsp is&nbsp the&nbsp un-configured</code></td></tr>
<tr><td><code><i>   137</i> </code></td><td><code>&nbsp state&nbsp according&nbsp to&nbsp the&nbsp definition&nbsp in&nbsp the&nbsp USB&nbsp specification.</code></td></tr>
<tr><td><code><i>   138</i> </code></td><td><code>&nbsp </code></td></tr>
<tr><td><code><i>   139</i> </code></td><td><code>&nbsp &nbsp ********************************************************************/</code></td></tr>
<tr><td><code><i>   140</i> </code></td><td><code>&nbsp #define&nbsp USE_CDC&nbsp 1</code></td></tr>
<tr><td><code><i>   141</i> </code></td><td><code>&nbsp </code></td></tr>
<tr><td><code><i>   142</i> </code></td><td><code>&nbsp /**&nbsp INCLUDES&nbsp *******************************************************/</code></td></tr>
<tr><td><code><i>   143</i> </code></td><td><code>&nbsp #include&nbsp "usb.h"</code></td></tr>
<tr><td><code><i>   144</i> </code></td><td><code>&nbsp </code></td></tr>
<tr><td><code><i>   145</i> </code></td><td><code>&nbsp #if&nbsp USE_CDC</code></td></tr>
<tr><td><code><i>   146</i> </code></td><td><code>&nbsp #include&nbsp "usb_device_cdc.h"</code></td></tr>
<tr><td><code><i>   147</i> </code></td><td><code>&nbsp #else</code></td></tr>
<tr><td><code><i>   148</i> </code></td><td><code>&nbsp #include&nbsp "usb_device_hid.h"</code></td></tr>
<tr><td><code><i>   149</i> </code></td><td><code>&nbsp #endif</code></td></tr>
<tr><td><code><i>   150</i> </code></td><td><code>&nbsp </code></td></tr>
<tr><td><code><i>   151</i> </code></td><td><code>&nbsp /**&nbsp CONSTANTS&nbsp ******************************************************/</code></td></tr>
<tr><td><code><i>   152</i> </code></td><td><code>&nbsp #if&nbsp defined(__18CXX)</code></td></tr>
<tr><td><code><i>   153</i> </code></td><td><code>&nbsp #pragma&nbsp romdata</code></td></tr>
<tr><td><code><i>   154</i> </code></td><td><code>&nbsp #endif</code></td></tr>
<tr><td><code><i>   155</i> </code></td><td><code>&nbsp </code></td></tr>
<tr><td><code><i>   156</i> </code></td><td><code>&nbsp #if&nbsp USE_CDC</code></td></tr>
<tr><td><code><i>   157</i> </code></td><td><code>&nbsp /*&nbsp Device&nbsp Descriptor&nbsp */</code></td></tr>
<tr><td><code><i>   158</i> </code></td><td><code>&nbsp const&nbsp USB_DEVICE_DESCRIPTOR&nbsp device_dsc&nbsp ={</code></td></tr>
<tr><td><code><i>   159</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp 0x12,&nbsp //&nbsp Size&nbsp of&nbsp this&nbsp descriptor&nbsp in&nbsp bytes</code></td></tr>
<tr><td><code><i>   160</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp USB_DESCRIPTOR_DEVICE,&nbsp //&nbsp DEVICE&nbsp descriptor&nbsp type</code></td></tr>
<tr><td><code><i>   161</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp 0x0200,&nbsp //&nbsp USB&nbsp Spec&nbsp Release&nbsp Number&nbsp in&nbsp BCD&nbsp format</code></td></tr>
<tr><td><code><i>   162</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp CDC_DEVICE,&nbsp //&nbsp Class&nbsp Code</code></td></tr>
<tr><td><code><i>   163</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp 0x00,&nbsp //&nbsp Subclass&nbsp code</code></td></tr>
<tr><td><code><i>   164</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp 0x00,&nbsp //&nbsp Protocol&nbsp code</code></td></tr>
<tr><td><code><i>   165</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp USB_EP0_BUFF_SIZE,&nbsp //&nbsp Max&nbsp packet&nbsp size&nbsp for&nbsp EP0,&nbsp see&nbsp usb_config.h</code></td></tr>
<tr><td><code><i>   166</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp 0x04D8,&nbsp //&nbsp Vendor&nbsp ID</code></td></tr>
<tr><td><code><i>   167</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp 0x000A,&nbsp //&nbsp Product&nbsp ID:&nbsp CDC&nbsp RS-232&nbsp Emulation&nbsp Demo</code></td></tr>
<tr><td><code><i>   168</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp 0x0100,&nbsp //&nbsp Device&nbsp release&nbsp number&nbsp in&nbsp BCD&nbsp format</code></td></tr>
<tr><td><code><i>   169</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp 0x01,&nbsp //&nbsp Manufacturer&nbsp string&nbsp index</code></td></tr>
<tr><td><code><i>   170</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp 0x02,&nbsp //&nbsp Product&nbsp string&nbsp index</code></td></tr>
<tr><td><code><i>   171</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp 0x00,&nbsp //&nbsp Device&nbsp serial&nbsp number&nbsp string&nbsp index</code></td></tr>
<tr><td><code><i>   172</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp 0x01&nbsp //&nbsp Number&nbsp of&nbsp possible&nbsp configurations</code></td></tr>
<tr><td><code><i>   173</i> </code></td><td><code>&nbsp };</code></td></tr>
<tr><td><code><i>   174</i> </code></td><td><code>&nbsp </code></td></tr>
<tr><td><code><i>   175</i> </code></td><td><code>&nbsp /*&nbsp Configuration&nbsp 1&nbsp Descriptor&nbsp */</code></td></tr>
<tr><td><code><i>   176</i> </code></td><td><code>&nbsp const&nbsp uint8_t&nbsp configDescriptor1[]&nbsp =&nbsp {</code></td></tr>
<tr><td><code><i>   177</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp /*&nbsp Configuration&nbsp Descriptor&nbsp */</code></td></tr>
<tr><td><code><i>   178</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp 0x09,&nbsp //sizeof(USB_CFG_DSC),&nbsp&nbsp&nbsp&nbsp //&nbsp Size&nbsp of&nbsp this&nbsp descriptor&nbsp in&nbsp bytes</code></td></tr>
<tr><td><code><i>   179</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp USB_DESCRIPTOR_CONFIGURATION,&nbsp //&nbsp CONFIGURATION&nbsp descriptor&nbsp type</code></td></tr>
<tr><td><code><i>   180</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp 67,&nbsp 0,&nbsp //&nbsp Total&nbsp length&nbsp of&nbsp data&nbsp for&nbsp this&nbsp cfg</code></td></tr>
<tr><td><code><i>   181</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp 2,&nbsp //&nbsp Number&nbsp of&nbsp interfaces&nbsp in&nbsp this&nbsp cfg</code></td></tr>
<tr><td><code><i>   182</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp 1,&nbsp //&nbsp Index&nbsp value&nbsp of&nbsp this&nbsp configuration</code></td></tr>
<tr><td><code><i>   183</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp 0,&nbsp //&nbsp Configuration&nbsp string&nbsp index</code></td></tr>
<tr><td><code><i>   184</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp _DEFAULT&nbsp |&nbsp _SELF,&nbsp //&nbsp Attributes,&nbsp see&nbsp usb_device.h</code></td></tr>
<tr><td><code><i>   185</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp 50,&nbsp //&nbsp Max&nbsp power&nbsp consumption&nbsp (2X&nbsp mA)</code></td></tr>
<tr><td><code><i>   186</i> </code></td><td><code>&nbsp </code></td></tr>
<tr><td><code><i>   187</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp /*&nbsp Interface&nbsp Descriptor&nbsp */</code></td></tr>
<tr><td><code><i>   188</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp 9,&nbsp //sizeof(USB_INTF_DSC),&nbsp&nbsp&nbsp //&nbsp Size&nbsp of&nbsp this&nbsp descriptor&nbsp in&nbsp bytes</code></td></tr>
<tr><td><code><i>   189</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp USB_DESCRIPTOR_INTERFACE,&nbsp //&nbsp INTERFACE&nbsp descriptor&nbsp type</code></td></tr>
<tr><td><code><i>   190</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp 0,&nbsp //&nbsp Interface&nbsp Number</code></td></tr>
<tr><td><code><i>   191</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp 0,&nbsp //&nbsp Alternate&nbsp Setting&nbsp Number</code></td></tr>
<tr><td><code><i>   192</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp 1,&nbsp //&nbsp Number&nbsp of&nbsp endpoints&nbsp in&nbsp this&nbsp intf</code></td></tr>
<tr><td><code><i>   193</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp COMM_INTF,&nbsp //&nbsp Class&nbsp code</code></td></tr>
<tr><td><code><i>   194</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp ABSTRACT_CONTROL_MODEL,&nbsp //&nbsp Subclass&nbsp code</code></td></tr>
<tr><td><code><i>   195</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp V25TER,&nbsp //&nbsp Protocol&nbsp code</code></td></tr>
<tr><td><code><i>   196</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp 0,&nbsp //&nbsp Interface&nbsp string&nbsp index</code></td></tr>
<tr><td><code><i>   197</i> </code></td><td><code>&nbsp </code></td></tr>
<tr><td><code><i>   198</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp /*&nbsp CDC&nbsp Class-Specific&nbsp Descriptors&nbsp */</code></td></tr>
<tr><td><code><i>   199</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp sizeof&nbsp (USB_CDC_HEADER_FN_DSC),</code></td></tr>
<tr><td><code><i>   200</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp CS_INTERFACE,</code></td></tr>
<tr><td><code><i>   201</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp DSC_FN_HEADER,</code></td></tr>
<tr><td><code><i>   202</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp 0x10,&nbsp 0x01,</code></td></tr>
<tr><td><code><i>   203</i> </code></td><td><code>&nbsp </code></td></tr>
<tr><td><code><i>   204</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp sizeof&nbsp (USB_CDC_ACM_FN_DSC),</code></td></tr>
<tr><td><code><i>   205</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp CS_INTERFACE,</code></td></tr>
<tr><td><code><i>   206</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp DSC_FN_ACM,</code></td></tr>
<tr><td><code><i>   207</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp USB_CDC_ACM_FN_DSC_VAL,</code></td></tr>
<tr><td><code><i>   208</i> </code></td><td><code>&nbsp </code></td></tr>
<tr><td><code><i>   209</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp sizeof&nbsp (USB_CDC_UNION_FN_DSC),</code></td></tr>
<tr><td><code><i>   210</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp CS_INTERFACE,</code></td></tr>
<tr><td><code><i>   211</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp DSC_FN_UNION,</code></td></tr>
<tr><td><code><i>   212</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp CDC_COMM_INTF_ID,</code></td></tr>
<tr><td><code><i>   213</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp CDC_DATA_INTF_ID,</code></td></tr>
<tr><td><code><i>   214</i> </code></td><td><code>&nbsp </code></td></tr>
<tr><td><code><i>   215</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp sizeof&nbsp (USB_CDC_CALL_MGT_FN_DSC),</code></td></tr>
<tr><td><code><i>   216</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp CS_INTERFACE,</code></td></tr>
<tr><td><code><i>   217</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp DSC_FN_CALL_MGT,</code></td></tr>
<tr><td><code><i>   218</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp 0x00,</code></td></tr>
<tr><td><code><i>   219</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp CDC_DATA_INTF_ID,</code></td></tr>
<tr><td><code><i>   220</i> </code></td><td><code>&nbsp </code></td></tr>
<tr><td><code><i>   221</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp /*&nbsp Endpoint&nbsp Descriptor&nbsp */</code></td></tr>
<tr><td><code><i>   222</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp //sizeof(USB_EP_DSC),DSC_EP,_EP02_IN,_INT,CDC_INT_EP_SIZE,0x02,</code></td></tr>
<tr><td><code><i>   223</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp 0x07,&nbsp /*sizeof(USB_EP_DSC)*/</code></td></tr>
<tr><td><code><i>   224</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp USB_DESCRIPTOR_ENDPOINT,&nbsp //Endpoint&nbsp Descriptor</code></td></tr>
<tr><td><code><i>   225</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp _EP01_IN,&nbsp //EndpointAddress</code></td></tr>
<tr><td><code><i>   226</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp _INTERRUPT,&nbsp //Attributes</code></td></tr>
<tr><td><code><i>   227</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp 0x08,&nbsp 0x00,&nbsp //size</code></td></tr>
<tr><td><code><i>   228</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp 0x02,&nbsp //Interval</code></td></tr>
<tr><td><code><i>   229</i> </code></td><td><code>&nbsp </code></td></tr>
<tr><td><code><i>   230</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp /*&nbsp Interface&nbsp Descriptor&nbsp */</code></td></tr>
<tr><td><code><i>   231</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp 9,&nbsp //sizeof(USB_INTF_DSC),&nbsp&nbsp&nbsp //&nbsp Size&nbsp of&nbsp this&nbsp descriptor&nbsp in&nbsp bytes</code></td></tr>
<tr><td><code><i>   232</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp USB_DESCRIPTOR_INTERFACE,&nbsp //&nbsp INTERFACE&nbsp descriptor&nbsp type</code></td></tr>
<tr><td><code><i>   233</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp 1,&nbsp //&nbsp Interface&nbsp Number</code></td></tr>
<tr><td><code><i>   234</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp 0,&nbsp //&nbsp Alternate&nbsp Setting&nbsp Number</code></td></tr>
<tr><td><code><i>   235</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp 2,&nbsp //&nbsp Number&nbsp of&nbsp endpoints&nbsp in&nbsp this&nbsp intf</code></td></tr>
<tr><td><code><i>   236</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp DATA_INTF,&nbsp //&nbsp Class&nbsp code</code></td></tr>
<tr><td><code><i>   237</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp 0,&nbsp //&nbsp Subclass&nbsp code</code></td></tr>
<tr><td><code><i>   238</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp NO_PROTOCOL,&nbsp //&nbsp Protocol&nbsp code</code></td></tr>
<tr><td><code><i>   239</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp 0,&nbsp //&nbsp Interface&nbsp string&nbsp index</code></td></tr>
<tr><td><code><i>   240</i> </code></td><td><code>&nbsp </code></td></tr>
<tr><td><code><i>   241</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp /*&nbsp Endpoint&nbsp Descriptor&nbsp */</code></td></tr>
<tr><td><code><i>   242</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp //sizeof(USB_EP_DSC),DSC_EP,_EP03_OUT,_BULK,CDC_BULK_OUT_EP_SIZE,0x00,</code></td></tr>
<tr><td><code><i>   243</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp 0x07,&nbsp /*sizeof(USB_EP_DSC)*/</code></td></tr>
<tr><td><code><i>   244</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp USB_DESCRIPTOR_ENDPOINT,&nbsp //Endpoint&nbsp Descriptor</code></td></tr>
<tr><td><code><i>   245</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp _EP02_OUT,&nbsp //EndpointAddress</code></td></tr>
<tr><td><code><i>   246</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp _BULK,&nbsp //Attributes</code></td></tr>
<tr><td><code><i>   247</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp 0x40,&nbsp 0x00,&nbsp //size</code></td></tr>
<tr><td><code><i>   248</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp 0x00,&nbsp //Interval</code></td></tr>
<tr><td><code><i>   249</i> </code></td><td><code>&nbsp </code></td></tr>
<tr><td><code><i>   250</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp /*&nbsp Endpoint&nbsp Descriptor&nbsp */</code></td></tr>
<tr><td><code><i>   251</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp //sizeof(USB_EP_DSC),DSC_EP,_EP03_IN,_BULK,CDC_BULK_IN_EP_SIZE,0x00</code></td></tr>
<tr><td><code><i>   252</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp 0x07,&nbsp /*sizeof(USB_EP_DSC)*/</code></td></tr>
<tr><td><code><i>   253</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp USB_DESCRIPTOR_ENDPOINT,&nbsp //Endpoint&nbsp Descriptor</code></td></tr>
<tr><td><code><i>   254</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp _EP02_IN,&nbsp //EndpointAddress</code></td></tr>
<tr><td><code><i>   255</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp _BULK,&nbsp //Attributes</code></td></tr>
<tr><td><code><i>   256</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp 0x40,&nbsp 0x00,&nbsp //size</code></td></tr>
<tr><td><code><i>   257</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp 0x00,&nbsp //Interval</code></td></tr>
<tr><td><code><i>   258</i> </code></td><td><code>&nbsp };</code></td></tr>
<tr><td><code><i>   259</i> </code></td><td><code>&nbsp </code></td></tr>
<tr><td><code><i>   260</i> </code></td><td><code>&nbsp #else</code></td></tr>
<tr><td><code><i>   261</i> </code></td><td><code>&nbsp /*&nbsp Device&nbsp Descriptor&nbsp */</code></td></tr>
<tr><td><code><i>   262</i> </code></td><td><code>&nbsp const&nbsp USB_DEVICE_DESCRIPTOR&nbsp device_dsc&nbsp ={</code></td></tr>
<tr><td><code><i>   263</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp 0x12,&nbsp //&nbsp Size&nbsp of&nbsp this&nbsp descriptor&nbsp in&nbsp bytes</code></td></tr>
<tr><td><code><i>   264</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp USB_DESCRIPTOR_DEVICE,&nbsp //&nbsp DEVICE&nbsp descriptor&nbsp type</code></td></tr>
<tr><td><code><i>   265</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp 0x0200,&nbsp //&nbsp USB&nbsp Spec&nbsp Release&nbsp Number&nbsp in&nbsp BCD&nbsp format</code></td></tr>
<tr><td><code><i>   266</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp 0x00,&nbsp //&nbsp Class&nbsp Code</code></td></tr>
<tr><td><code><i>   267</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp 0x00,&nbsp //&nbsp Subclass&nbsp code</code></td></tr>
<tr><td><code><i>   268</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp 0x00,&nbsp //&nbsp Protocol&nbsp code</code></td></tr>
<tr><td><code><i>   269</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp USB_EP0_BUFF_SIZE,&nbsp //&nbsp Max&nbsp packet&nbsp size&nbsp for&nbsp EP0,&nbsp see&nbsp usb_config.h</code></td></tr>
<tr><td><code><i>   270</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp 0x04D8,&nbsp //&nbsp Vendor&nbsp ID</code></td></tr>
<tr><td><code><i>   271</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp 0x003F,&nbsp //&nbsp Product&nbsp ID:&nbsp Custom&nbsp HID&nbsp device&nbsp demo</code></td></tr>
<tr><td><code><i>   272</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp 0x0100,&nbsp //&nbsp Device&nbsp release&nbsp number&nbsp in&nbsp BCD&nbsp format</code></td></tr>
<tr><td><code><i>   273</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp 0x01,&nbsp //&nbsp Manufacturer&nbsp string&nbsp index</code></td></tr>
<tr><td><code><i>   274</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp 0x02,&nbsp //&nbsp Product&nbsp string&nbsp index</code></td></tr>
<tr><td><code><i>   275</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp 0x00,&nbsp //&nbsp Device&nbsp serial&nbsp number&nbsp string&nbsp index</code></td></tr>
<tr><td><code><i>   276</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp 0x01&nbsp //&nbsp Number&nbsp of&nbsp possible&nbsp configurations</code></td></tr>
<tr><td><code><i>   277</i> </code></td><td><code>&nbsp };</code></td></tr>
<tr><td><code><i>   278</i> </code></td><td><code>&nbsp </code></td></tr>
<tr><td><code><i>   279</i> </code></td><td><code>&nbsp /*&nbsp Configuration&nbsp 1&nbsp Descriptor&nbsp */</code></td></tr>
<tr><td><code><i>   280</i> </code></td><td><code>&nbsp const&nbsp uint8_t&nbsp configDescriptor1[]&nbsp =&nbsp {</code></td></tr>
<tr><td><code><i>   281</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp /*&nbsp Configuration&nbsp Descriptor&nbsp */</code></td></tr>
<tr><td><code><i>   282</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp 0x09,&nbsp //sizeof(USB_CFG_DSC),&nbsp&nbsp&nbsp&nbsp //&nbsp Size&nbsp of&nbsp this&nbsp descriptor&nbsp in&nbsp bytes</code></td></tr>
<tr><td><code><i>   283</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp USB_DESCRIPTOR_CONFIGURATION,&nbsp //&nbsp CONFIGURATION&nbsp descriptor&nbsp type</code></td></tr>
<tr><td><code><i>   284</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp 0x29,&nbsp 0x00,&nbsp //&nbsp Total&nbsp length&nbsp of&nbsp data&nbsp for&nbsp this&nbsp cfg</code></td></tr>
<tr><td><code><i>   285</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp 1,&nbsp //&nbsp Number&nbsp of&nbsp interfaces&nbsp in&nbsp this&nbsp cfg</code></td></tr>
<tr><td><code><i>   286</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp 1,&nbsp //&nbsp Index&nbsp value&nbsp of&nbsp this&nbsp configuration</code></td></tr>
<tr><td><code><i>   287</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp 0,&nbsp //&nbsp Configuration&nbsp string&nbsp index</code></td></tr>
<tr><td><code><i>   288</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp _DEFAULT&nbsp |&nbsp _SELF,&nbsp //&nbsp Attributes,&nbsp see&nbsp usb_device.h</code></td></tr>
<tr><td><code><i>   289</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp 50,&nbsp //&nbsp Max&nbsp power&nbsp consumption&nbsp (2X&nbsp mA)</code></td></tr>
<tr><td><code><i>   290</i> </code></td><td><code>&nbsp </code></td></tr>
<tr><td><code><i>   291</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp /*&nbsp Interface&nbsp Descriptor&nbsp */</code></td></tr>
<tr><td><code><i>   292</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp 0x09,&nbsp //sizeof(USB_INTF_DSC),&nbsp&nbsp&nbsp //&nbsp Size&nbsp of&nbsp this&nbsp descriptor&nbsp in&nbsp bytes</code></td></tr>
<tr><td><code><i>   293</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp USB_DESCRIPTOR_INTERFACE,&nbsp //&nbsp INTERFACE&nbsp descriptor&nbsp type</code></td></tr>
<tr><td><code><i>   294</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp 0,&nbsp //&nbsp Interface&nbsp Number</code></td></tr>
<tr><td><code><i>   295</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp 0,&nbsp //&nbsp Alternate&nbsp Setting&nbsp Number</code></td></tr>
<tr><td><code><i>   296</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp 2,&nbsp //&nbsp Number&nbsp of&nbsp endpoints&nbsp in&nbsp this&nbsp intf</code></td></tr>
<tr><td><code><i>   297</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp HID_INTF,&nbsp //&nbsp Class&nbsp code</code></td></tr>
<tr><td><code><i>   298</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp 0,&nbsp //&nbsp Subclass&nbsp code</code></td></tr>
<tr><td><code><i>   299</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp 0,&nbsp //&nbsp Protocol&nbsp code</code></td></tr>
<tr><td><code><i>   300</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp 0,&nbsp //&nbsp Interface&nbsp string&nbsp index</code></td></tr>
<tr><td><code><i>   301</i> </code></td><td><code>&nbsp </code></td></tr>
<tr><td><code><i>   302</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp /*&nbsp HID&nbsp Class-Specific&nbsp Descriptor&nbsp */</code></td></tr>
<tr><td><code><i>   303</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp 0x09,&nbsp //sizeof(USB_HID_DSC)+3,&nbsp&nbsp&nbsp&nbsp //&nbsp Size&nbsp of&nbsp this&nbsp descriptor&nbsp in&nbsp bytes</code></td></tr>
<tr><td><code><i>   304</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp DSC_HID,&nbsp //&nbsp HID&nbsp descriptor&nbsp type</code></td></tr>
<tr><td><code><i>   305</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp 0x11,&nbsp 0x01,&nbsp //&nbsp HID&nbsp Spec&nbsp Release&nbsp Number&nbsp in&nbsp BCD&nbsp format&nbsp (1.11)</code></td></tr>
<tr><td><code><i>   306</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp 0x00,&nbsp //&nbsp Country&nbsp Code&nbsp (0x00&nbsp for&nbsp Not&nbsp supported)</code></td></tr>
<tr><td><code><i>   307</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp HID_NUM_OF_DSC,&nbsp //&nbsp Number&nbsp of&nbsp class&nbsp descriptors,&nbsp see&nbsp usbcfg.h</code></td></tr>
<tr><td><code><i>   308</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp DSC_RPT,&nbsp //&nbsp Report&nbsp descriptor&nbsp type</code></td></tr>
<tr><td><code><i>   309</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp HID_RPT01_SIZE,&nbsp 0x00,&nbsp //sizeof(hid_rpt01),&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp //&nbsp Size&nbsp of&nbsp the&nbsp report&nbsp descriptor</code></td></tr>
<tr><td><code><i>   310</i> </code></td><td><code>&nbsp </code></td></tr>
<tr><td><code><i>   311</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp /*&nbsp Endpoint&nbsp Descriptor&nbsp */</code></td></tr>
<tr><td><code><i>   312</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp 0x07,&nbsp /*sizeof(USB_EP_DSC)*/</code></td></tr>
<tr><td><code><i>   313</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp USB_DESCRIPTOR_ENDPOINT,&nbsp //Endpoint&nbsp Descriptor</code></td></tr>
<tr><td><code><i>   314</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp CUSTOM_DEVICE_HID_EP&nbsp |&nbsp _EP_IN,&nbsp //EndpointAddress</code></td></tr>
<tr><td><code><i>   315</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp _INTERRUPT,&nbsp //Attributes</code></td></tr>
<tr><td><code><i>   316</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp 0x40,&nbsp 0x00,&nbsp //size</code></td></tr>
<tr><td><code><i>   317</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp 0x01,&nbsp //Interval</code></td></tr>
<tr><td><code><i>   318</i> </code></td><td><code>&nbsp </code></td></tr>
<tr><td><code><i>   319</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp /*&nbsp Endpoint&nbsp Descriptor&nbsp */</code></td></tr>
<tr><td><code><i>   320</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp 0x07,&nbsp /*sizeof(USB_EP_DSC)*/</code></td></tr>
<tr><td><code><i>   321</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp USB_DESCRIPTOR_ENDPOINT,&nbsp //Endpoint&nbsp Descriptor</code></td></tr>
<tr><td><code><i>   322</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp CUSTOM_DEVICE_HID_EP&nbsp |&nbsp _EP_OUT,&nbsp //EndpointAddress</code></td></tr>
<tr><td><code><i>   323</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp _INTERRUPT,&nbsp //Attributes</code></td></tr>
<tr><td><code><i>   324</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp 0x40,&nbsp 0x00,&nbsp //size</code></td></tr>
<tr><td><code><i>   325</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp 0x01&nbsp //Interval</code></td></tr>
<tr><td><code><i>   326</i> </code></td><td><code>&nbsp };</code></td></tr>
<tr><td><code><i>   327</i> </code></td><td><code>&nbsp </code></td></tr>
<tr><td><code><i>   328</i> </code></td><td><code>&nbsp //Class&nbsp specific&nbsp descriptor&nbsp -&nbsp HID&nbsp </code></td></tr>
<tr><td><code><i>   329</i> </code></td><td><code>&nbsp </code></td></tr>
<tr><td><code><i>   330</i> </code></td><td><code>&nbsp const&nbsp struct&nbsp {</code></td></tr>
<tr><td><code><i>   331</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp uint8_t&nbsp report[HID_RPT01_SIZE];</code></td></tr>
<tr><td><code><i>   332</i> </code></td><td><code>&nbsp }&nbsp hid_rpt01&nbsp =&nbsp {</code></td></tr>
<tr><td><code><i>   333</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp {</code></td></tr>
<tr><td><code><i>   334</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp 0x06,&nbsp 0x00,&nbsp 0xFF,&nbsp //&nbsp Usage&nbsp Page&nbsp =&nbsp 0xFF00&nbsp (Vendor&nbsp Defined&nbsp Page&nbsp 1)</code></td></tr>
<tr><td><code><i>   335</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp 0x09,&nbsp 0x01,&nbsp //&nbsp Usage&nbsp (Vendor&nbsp Usage&nbsp 1)</code></td></tr>
<tr><td><code><i>   336</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp 0xA1,&nbsp 0x01,&nbsp //&nbsp Collection&nbsp (Application)</code></td></tr>
<tr><td><code><i>   337</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp 0x19,&nbsp 0x01,&nbsp //&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp Usage&nbsp Minimum&nbsp </code></td></tr>
<tr><td><code><i>   338</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp 0x29,&nbsp 0x40,&nbsp //&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp Usage&nbsp Maximum&nbsp&nbsp&nbsp //64&nbsp input&nbsp usages&nbsp total&nbsp (0x01&nbsp to&nbsp 0x40)</code></td></tr>
<tr><td><code><i>   339</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp 0x15,&nbsp 0x00,&nbsp //&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp Logical&nbsp Minimum&nbsp (data&nbsp bytes&nbsp in&nbsp the&nbsp report&nbsp may&nbsp have&nbsp minimum&nbsp value&nbsp =&nbsp 0x00)</code></td></tr>
<tr><td><code><i>   340</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp 0x26,&nbsp 0xFF,&nbsp 0x00,&nbsp //&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp Logical&nbsp Maximum&nbsp (data&nbsp bytes&nbsp in&nbsp the&nbsp report&nbsp may&nbsp have&nbsp maximum&nbsp value&nbsp =&nbsp 0x00FF&nbsp =&nbsp unsigned&nbsp 255)</code></td></tr>
<tr><td><code><i>   341</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp 0x75,&nbsp 0x08,&nbsp //&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp Report&nbsp Size:&nbsp 8-bit&nbsp field&nbsp size</code></td></tr>
<tr><td><code><i>   342</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp 0x95,&nbsp 0x40,&nbsp //&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp Report&nbsp Count:&nbsp Make&nbsp sixty-four&nbsp 8-bit&nbsp fields&nbsp (the&nbsp next&nbsp time&nbsp the&nbsp parser&nbsp hits&nbsp an&nbsp "Input",&nbsp "Output",&nbsp or&nbsp "Feature"&nbsp item)</code></td></tr>
<tr><td><code><i>   343</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp 0x81,&nbsp 0x00,&nbsp //&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp Input&nbsp (Data,&nbsp Array,&nbsp Abs):&nbsp Instantiates&nbsp input&nbsp packet&nbsp fields&nbsp based&nbsp on&nbsp the&nbsp above&nbsp report&nbsp size,&nbsp count,&nbsp logical&nbsp min/max,&nbsp and&nbsp usage.</code></td></tr>
<tr><td><code><i>   344</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp 0x19,&nbsp 0x01,&nbsp //&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp Usage&nbsp Minimum&nbsp </code></td></tr>
<tr><td><code><i>   345</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp 0x29,&nbsp 0x40,&nbsp //&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp Usage&nbsp Maximum&nbsp &nbsp&nbsp&nbsp&nbsp&nbsp //64&nbsp output&nbsp usages&nbsp total&nbsp (0x01&nbsp to&nbsp 0x40)</code></td></tr>
<tr><td><code><i>   346</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp 0x91,&nbsp 0x00,&nbsp //&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp Output&nbsp (Data,&nbsp Array,&nbsp Abs):&nbsp Instantiates&nbsp output&nbsp packet&nbsp fields.&nbsp&nbsp Uses&nbsp same&nbsp report&nbsp size&nbsp and&nbsp count&nbsp as&nbsp "Input"&nbsp fields,&nbsp since&nbsp nothing&nbsp new/different&nbsp was&nbsp specified&nbsp to&nbsp the&nbsp parser&nbsp since&nbsp the&nbsp "Input"&nbsp item.</code></td></tr>
<tr><td><code><i>   347</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp 0xC0</code></td></tr>
<tr><td><code><i>   348</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp }&nbsp //&nbsp End&nbsp Collection</code></td></tr>
<tr><td><code><i>   349</i> </code></td><td><code>&nbsp };</code></td></tr>
<tr><td><code><i>   350</i> </code></td><td><code>&nbsp </code></td></tr>
<tr><td><code><i>   351</i> </code></td><td><code>&nbsp /**&nbsp EOF&nbsp usb_descriptors.c&nbsp ***************************************************/</code></td></tr>
<tr><td><code><i>   352</i> </code></td><td><code>&nbsp #endif&nbsp //&nbsp USE_CDC</code></td></tr>
<tr><td><code><i>   353</i> </code></td><td><code>&nbsp </code></td></tr>
<tr><td><code><i>   354</i> </code></td><td><code>&nbsp </code></td></tr>
<tr><td><code><i>   355</i> </code></td><td><code>&nbsp //Language&nbsp code&nbsp string&nbsp descriptor</code></td></tr>
<tr><td><code><i>   356</i> </code></td><td><code>&nbsp </code></td></tr>
<tr><td><code><i>   357</i> </code></td><td><code>&nbsp const&nbsp struct&nbsp {</code></td></tr>
<tr><td><code><i>   358</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp uint8_t&nbsp bLength;</code></td></tr>
<tr><td><code><i>   359</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp uint8_t&nbsp bDscType;</code></td></tr>
<tr><td><code><i>   360</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp uint16_t&nbsp string[1];</code></td></tr>
<tr><td><code><i>   361</i> </code></td><td><code>&nbsp }</code></td></tr>
<tr><td><code><i>   362</i> </code></td><td><code>&nbsp sd000&nbsp =&nbsp {</code></td></tr>
<tr><td><code><i>   363</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp sizeof&nbsp (sd000),&nbsp USB_DESCRIPTOR_STRING,&nbsp {</code></td></tr>
<tr><td><code><i>   364</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp 0x0409}</code></td></tr>
<tr><td><code><i>   365</i> </code></td><td><code>&nbsp };</code></td></tr>
<tr><td><code><i>   366</i> </code></td><td><code>&nbsp </code></td></tr>
<tr><td><code><i>   367</i> </code></td><td><code>&nbsp //Manufacturer&nbsp string&nbsp descriptor</code></td></tr>
<tr><td><code><i>   368</i> </code></td><td><code>&nbsp </code></td></tr>
<tr><td><code><i>   369</i> </code></td><td><code>&nbsp const&nbsp struct&nbsp {</code></td></tr>
<tr><td><code><i>   370</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp uint8_t&nbsp bLength;</code></td></tr>
<tr><td><code><i>   371</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp uint8_t&nbsp bDscType;</code></td></tr>
<tr><td><code><i>   372</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp uint16_t&nbsp string[25];</code></td></tr>
<tr><td><code><i>   373</i> </code></td><td><code>&nbsp }</code></td></tr>
<tr><td><code><i>   374</i> </code></td><td><code>&nbsp sd001&nbsp =&nbsp {</code></td></tr>
<tr><td><code><i>   375</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp sizeof&nbsp (sd001),&nbsp USB_DESCRIPTOR_STRING,&nbsp {</code></td></tr>
<tr><td><code><i>   376</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp 'M',&nbsp 'i',&nbsp 'c',&nbsp 'r',&nbsp 'o',&nbsp 'c',&nbsp 'h',&nbsp 'i',&nbsp 'p',&nbsp '&nbsp ',</code></td></tr>
<tr><td><code><i>   377</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp 'T',&nbsp 'e',&nbsp 'c',&nbsp 'h',&nbsp 'n',&nbsp 'o',&nbsp 'l',&nbsp 'o',&nbsp 'g',&nbsp 'y',&nbsp '&nbsp ',&nbsp 'I',&nbsp 'n',&nbsp 'c',&nbsp '.'}</code></td></tr>
<tr><td><code><i>   378</i> </code></td><td><code>&nbsp };</code></td></tr>
<tr><td><code><i>   379</i> </code></td><td><code>&nbsp </code></td></tr>
<tr><td><code><i>   380</i> </code></td><td><code>&nbsp //Product&nbsp string&nbsp descriptor</code></td></tr>
<tr><td><code><i>   381</i> </code></td><td><code>&nbsp </code></td></tr>
<tr><td><code><i>   382</i> </code></td><td><code>&nbsp const&nbsp struct&nbsp {</code></td></tr>
<tr><td><code><i>   383</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp uint8_t&nbsp bLength;</code></td></tr>
<tr><td><code><i>   384</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp uint8_t&nbsp bDscType;</code></td></tr>
<tr><td><code><i>   385</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp uint16_t&nbsp string[25];</code></td></tr>
<tr><td><code><i>   386</i> </code></td><td><code>&nbsp }</code></td></tr>
<tr><td><code><i>   387</i> </code></td><td><code>&nbsp sd002&nbsp =&nbsp {</code></td></tr>
<tr><td><code><i>   388</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp sizeof&nbsp (sd002),&nbsp USB_DESCRIPTOR_STRING,&nbsp {</code></td></tr>
<tr><td><code><i>   389</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp 'C',&nbsp 'D',&nbsp 'C',&nbsp '&nbsp ',&nbsp 'R',&nbsp 'S',&nbsp '-',&nbsp '2',&nbsp '3',&nbsp '2',&nbsp '&nbsp ',</code></td></tr>
<tr><td><code><i>   390</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp 'E',&nbsp 'm',&nbsp 'u',&nbsp 'l',&nbsp 'a',&nbsp 't',&nbsp 'i',&nbsp 'o',&nbsp 'n',&nbsp '&nbsp ',&nbsp 'C',&nbsp 'C',&nbsp '0',&nbsp '1'}</code></td></tr>
<tr><td><code><i>   391</i> </code></td><td><code>&nbsp };</code></td></tr>
<tr><td><code><i>   392</i> </code></td><td><code>&nbsp </code></td></tr>
<tr><td><code><i>   393</i> </code></td><td><code>&nbsp //Array&nbsp of&nbsp configuration&nbsp descriptors</code></td></tr>
<tr><td><code><i>   394</i> </code></td><td><code>&nbsp const&nbsp uint8_t&nbsp *&nbsp const&nbsp USB_CD_Ptr[]&nbsp ={</code></td></tr>
<tr><td><code><i>   395</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp (const&nbsp uint8_t&nbsp *&nbsp const)&nbsp &configDescriptor1</code></td></tr>
<tr><td><code><i>   396</i> </code></td><td><code>&nbsp };</code></td></tr>
<tr><td><code><i>   397</i> </code></td><td><code>&nbsp </code></td></tr>
<tr><td><code><i>   398</i> </code></td><td><code>&nbsp //Array&nbsp of&nbsp string&nbsp descriptors</code></td></tr>
<tr><td><code><i>   399</i> </code></td><td><code>&nbsp const&nbsp uint8_t&nbsp *&nbsp const&nbsp USB_SD_Ptr[]&nbsp ={</code></td></tr>
<tr><td><code><i>   400</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp (const&nbsp uint8_t&nbsp *&nbsp const)&nbsp &sd000,</code></td></tr>
<tr><td><code><i>   401</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp (const&nbsp uint8_t&nbsp *&nbsp const)&nbsp &sd001,</code></td></tr>
<tr><td><code><i>   402</i> </code></td><td><code>&nbsp &nbsp&nbsp&nbsp&nbsp (const&nbsp uint8_t&nbsp *&nbsp const)&nbsp &sd002</code></td></tr>
<tr><td><code><i>   403</i> </code></td><td><code>&nbsp };</code></td></tr>
<tr><td><code><i>   404</i> </code></td><td><code>&nbsp </code></td></tr>
<tr><td><code><i>   405</i> </code></td><td><code>&nbsp </code></td></tr>
<tr><td><code><i>   406</i> </code></td><td><code>&nbsp #if&nbsp defined(__18CXX)</code></td></tr>
<tr><td><code><i>   407</i> </code></td><td><code>&nbsp #pragma&nbsp code</code></td></tr>
<tr><td><code><i>   408</i> </code></td><td><code>&nbsp #endif</code></BODY>
</HTML>
